# Python AI Image generator from apis with autogenerated prompt

## Descripción

Herramienta para generar "prompts" que son básicamente cadenas de texto indicando/describiendo
una imagen.
Posteriormente se pueden utilizar varias API con las que utilizar ese "prompt" generado.

Para generar el prompt, se utiliza la api de GPT.

En el directorio "Tuning" se encuentran los ejemplos para poner en contexto a GPT cuando le pedimos datos.

Esperamos que GPT devuelva una cadena compatible con JSON que contenga estas claves:

- title: Contexto general de la imagen, también usado para el nombre del directorio.
- description: Descripción con detalles de la imagen.
- metatags: Etiquetas separadas por comas indicando lo más relevante sobre la imagen.


## Dependencias

El listado de dependencias se encuentra en el archivo **requeriments.txt**

## Modo de uso

Primero necesitas configurar las variables de entorno.

Copia el archivo **.env.example** a **.env** y rellena los datos para conectar a la API tras generarlos en tu panel.

Una vez tengas las variables de entorno seteadas, puedes ejecutar el script de la siguiente forma para generar 10 imágenes con Stable Diffusion:

```bash
python main.py 10 --stable-diffusion
```

```bash
python main.py 10 --dalle
```

Nota: No puedes usar varias apis a la vez, se tomará la primera e ignorará las demás. No es compatible con generación multi-api en paralelo.

### Solo crear CSV con un listado de prompts

Podemos generar un listado de promtps con la estructura:

<title><description><metatags><prompt>

Al script principal, le pasaremos el argumento **--only-prompts** y esto deshabilitará automáticamente generar imágenes. Es decir, solo vamos a generar un listado de prompts en el directorio **output** con el nombre **batch_prompts.csv**

Necesitamos pasar obligatoriamente una cantidad de prompts a generar como en el siguiente ejemplo para 10 prompts

```bash
python3 main.py 10 --only-prompts
```


## Tareas pendientes -> TODO

- [] Incluir archivo "info.txt" con los metadatos del prompt y propiedades de la imagen en el directorio de las imágenes
- [] Incluir archivo "info.json" con los metadatos del prompt y propiedades de la imagen en el directorio de las imágenes, para poder trabajarlo en redes sociales
- [] Implementar entorno virtual para python
